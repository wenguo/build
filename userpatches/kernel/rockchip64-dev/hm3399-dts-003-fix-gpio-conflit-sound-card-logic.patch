diff --git a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
index 29ed4a291..3e1b2bdc1 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
@@ -12,6 +12,7 @@ / {
 
 
 	backlight: backlight {
+		status = "disabled";
 		compatible = "pwm-backlight";
 		brightness-levels = <
 			  0   1   2   3   4   5   6   7
@@ -47,9 +48,9 @@ backlight: backlight {
 			240 241 242 243 244 245 246 247
 			248 249 250 251 252 253 254 255>;
 		default-brightness-level = <200>;
-		enable-gpios = <&gpio4 RK_PC6 GPIO_ACTIVE_HIGH>;
+		enable-gpios = <&gpio4 RK_PC6 GPIO_ACTIVE_HIGH>; //EDP_LCBDL ?
 		pwms = <&pwm0 0 25000 0>;
-		status = "okay";
+
 	};
 
 	edp_panel: edp-panel {
@@ -67,19 +68,18 @@ panel_in_edp: endpoint {
 		};
 	};
 
-	es8388_sound{
+	es8388_sound {
+		status = "okay";
 		compatible = "simple-audio-card";
+		pinctrl-names = "default";
+		pinctrl-0 = <&hpdet_int>;
+
 		simple-audio-card,name = "rockchip,es8388-codec";
 		simple-audio-card,format = "i2s";
 		simple-audio-card,mclk-fs = <256>;
-		simple-audio-card,widgets =
-			"Microphone", "Mic Jack",
-			"Headphone", "Headphone Jack";
-		simple-audio-card,routing =
-			"Mic Jack", "MICBIAS1",
-			"IN1P", "Mic Jack",
-			"Headphone Jack", "HPOL",
-			"Headphone Jack", "HPOR";
+		
+		simple-audio-card,hp-det-gpio =  <&gpio4 RK_PD0 GPIO_ACTIVE_HIGH>;//insert=GPIO_ACTIVE_HIGH  
+
 		simple-audio-card,cpu {
 			sound-dai = <&i2s0>;
 			system-clock-frequency = <11289600>;
@@ -89,6 +89,42 @@ simple-audio-card,codec {
 			system-clock-frequency = <11289600>;
 		};
 	};
+	
+	
+	dw_hdmi_audio: dw-hdmi-audio {
+		status = "disable";
+		compatible = "rockchip,dw-hdmi-audio";
+		#sound-dai-cells = <0>;
+	};
+
+	hdmi_sound: hdmi-sound {
+		status = "okay";
+	};
+
+        hdmi_dp_sound: hdmi-dp-sound {
+                status = "okay";
+                compatible = "rockchip,rk3399-hdmi-dp";
+                rockchip,cpu = <&i2s2>;
+                rockchip,codec = <&hdmi>, <&cdn_dp>;
+        };
+
+	spdif-sound {
+		status = "disable";
+		compatible = "simple-audio-card";
+		simple-audio-card,name = "ROCKCHIP,SPDIF";
+		simple-audio-card,cpu {
+			sound-dai = <&spdif>;
+		};
+		simple-audio-card,codec {
+			sound-dai = <&spdif_out>;
+		};
+	};
+
+	spdif_out: spdif-out {
+		status = "disable";
+		compatible = "linux,spdif-dit";
+		#sound-dai-cells = <0>;
+	};
 
 	sdio_pwrseq: sdio-pwrseq {
 		compatible = "mmc-pwrseq-simple";
@@ -130,6 +166,27 @@ wireless-bluetooth {
 		BT,wake_host_irq = <&gpio0 4 GPIO_ACTIVE_HIGH>; /* GPIO0_A4 */
 		status = "disabled";
 	};
+	
+	leds {
+		status = "okay";
+		compatible = "gpio-leds";
+			power_led: power {
+				label = "powerled";
+				linux,default-trigger = "ir-power-click";
+				default-state = "on";
+				gpios = <&gpio1 0 GPIO_ACTIVE_HIGH>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&led_power>;
+			};
+			work_led: work {
+				label = "workled";
+				linux,default-trigger = "ir-power-click";
+				default-state = "off";
+				gpios = <&gpio1 13 GPIO_ACTIVE_HIGH>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&led_work>;
+			};
+    	};
 };
 
 &edp {
@@ -160,11 +217,10 @@ es8388: es8388@10 {
 		reg = <0x10>;
 		clocks = <&cru SCLK_I2S_8CH_OUT>;
 		clock-names = "mclk";
-		pinctrl-names = "default";
-		pinctrl-0 = <&i2s_8ch_mclk &hpdet_int>;
-    	        //pinctrl-0 = <&i2s_8ch_mclk>;
-		//spk-con-gpio = <&gpio1 1 GPIO_ACTIVE_LOW>;
-		//hp-det-gpio = <&gpio4 24 GPIO_ACTIVE_HIGH>;//insert=GPIO_ACTIVE_HIGH  
+		AVDD-supply = <&vcca3v0_codec>;
+		DVDD-supply = <&vcca3v0_codec>;
+		HPVDD-supply = <&vcca3v0_codec>;
+		PVDD-supply = <&vcca3v0_codec>;
 
 		status = "okay";
 	};
@@ -180,19 +236,14 @@ fusb0: fusb30x@22 {
 		compatible = "fairchild,fusb302";
 		reg = <0x22>;
 		pinctrl-names = "default";
-		pinctrl-0 = <&fusb0_int &vcc5v0_typec0_en>;
-		int-n-gpios = <&gpio1 2 GPIO_ACTIVE_HIGH>;//GPIO1_A2
-		vbus-5v-gpios = <&gpio1 20 GPIO_ACTIVE_HIGH>;//GPIO1_C4
+		pinctrl-0 = <&fusb0_int>;
+		int-n-gpios = <&gpio1 RK_PA2 GPIO_ACTIVE_HIGH>;//GPIO1_A2
+		vbus-5v-gpios = <&gpio1 RK_PC4 GPIO_ACTIVE_HIGH>;//GPIO1_C4
 		status = "okay";
 	};
+	
 };
 
-&i2s0 {
-	rockchip,playback-channels = <8>;
-	rockchip,capture-channels = <8>;
-	rockchip,i2s-broken-burst-len;
-	status = "okay";
-};
 
 &pcie_phy {
 	status = "okay";
@@ -221,11 +272,12 @@ lcd_panel_reset: lcd-panel-reset {
 	
 	es8388-gpios{
 		hpdet_int: hpdet-int {
-			rockchip,pins = <4 24 RK_FUNC_GPIO &pcfg_pull_none>;
+			rockchip,pins = <4 RK_PD0 RK_FUNC_GPIO &pcfg_pull_none>;
 		};
+		
 	};
 	
-	i2s1 {
+	i2s0 {
 		i2s_8ch_mclk: i2s-8ch-mclk {
 			rockchip,pins = <4 RK_PA0 RK_FUNC_1 &pcfg_pull_none>;
 		};
@@ -233,17 +285,17 @@ i2s_8ch_mclk: i2s-8ch-mclk {
 	
 	leds {
 		led_power: led-power {
-			rockchip,pins = <1 0 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_A0
+			rockchip,pins = <1 RK_PA0 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_A0
 		};
 		led_work: led-work {
-			rockchip,pins = <1 13 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_B5
+			rockchip,pins = <1 RK_PB5 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_B5
 		};
 	};
 	
 	wireless-bluetooth {
 		uart0_gpios: uart0-gpios {
 			rockchip,pins =
-				<2 19 RK_FUNC_GPIO &pcfg_pull_none>;
+				<2 RK_PC3 RK_FUNC_GPIO &pcfg_pull_none>;
 		};
 	};	
 	
@@ -265,5 +317,9 @@ &sdio0 {
 };
 
 &spdif {
-	status = "okay";
+	status = "disable";
+	pinctrl-0 = <&spdif_bus>;
+	i2c-scl-rising-time-ns = <450>;
+	i2c-scl-falling-time-ns = <15>;
+	#sound-dai-cells = <0>;
 };
diff --git a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
index 639fc572d..83741f0c6 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
@@ -61,7 +61,7 @@ vcc1v8_s3: vcca1v8_s3: vcc1v8-s3 {
 	vcc3v0_sd: vcc3v0-sd {
 		compatible = "regulator-fixed";
 		enable-active-high;
-		gpio = <&gpio0 1 GPIO_ACTIVE_HIGH>;
+		gpio = <&gpio0 RK_PA1 GPIO_ACTIVE_HIGH>;
 		pinctrl-names = "default";
 		pinctrl-0 = <&sdmmc0_pwr_h>;
 		regulator-always-on;
@@ -83,10 +83,11 @@ vcc3v3_sys: vcc3v3-sys {
 
 	vcc5v0_host: vcc5v0-host-regulator {
 		compatible = "regulator-fixed";
-		enable-active-high;
-		gpio = <&gpio4 29 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
-		pinctrl-names = "default";
-		pinctrl-0 = <&vcc5v0_host_en>;
+	//	enable-active-high;
+	//	gpio = <&gpio4 RK_PD5 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
+	//	pinctrl-names = "default";
+	//	pinctrl-0 = <&vcc5v0_host_en>;
+		regulator-boot-on;
 		regulator-name = "vcc5v0_host";
 		regulator-always-on;
 		vin-supply = <&vcc_sys>;
@@ -95,12 +96,17 @@ vcc5v0_host: vcc5v0-host-regulator {
 	vcc5v0_typec0: vcc5v0-typec0-regulator {
 		compatible = "regulator-fixed";
 		enable-active-high;
-		gpio = <&gpio4 29 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
+		gpio = <&gpio1 RK_PC4 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO1_C4
 		pinctrl-names = "default";
 		pinctrl-0 = <&vcc5v0_typec0_en>;
 		regulator-name = "vcc5v0_typec0";
 		vin-supply = <&vcc_sys>;
+		
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
 	};
+	
 
 	vcc_sys: vcc-sys {
 		compatible = "regulator-fixed";
@@ -131,10 +137,10 @@ vdd_log: vdd-log {
 		compatible = "5v_en";
 		pinctrl-names = "default";
 		pinctrl-0 = <&pwr4g_pin &rst4g_pin>;
-		//hub_rst = <&gpio4 GPIO_D0 GPIO_ACTIVE_LOW>;
-		//pwr_led_en = <&gpio7 GPIO_B4 GPIO_ACTIVE_LOW>;
-		pwr_en_4g = <&gpio1 24 GPIO_ACTIVE_HIGH>;//gpio1_d0
-		rst_4g = <&gpio4 28 GPIO_ACTIVE_HIGH>;//gpio4_d4
+		hub_rst = <&gpio4 RK_PD5 GPIO_ACTIVE_LOW>;
+		pwr_led_en = <&gpio1 RK_PA0 GPIO_ACTIVE_LOW>;
+		pwr_en_4g = <&gpio1 RK_PD0 GPIO_ACTIVE_HIGH>;//gpio1_d0
+		rst_4g = <&gpio4 RK_PD4 GPIO_ACTIVE_HIGH>;//gpio4_d4
 		status = "okay";
 	};
 };
@@ -200,8 +206,13 @@ &gpu {
 };
 
 &hdmi {
-	ddc-i2c-bus = <&i2c3>;
+	pinctrl-0 = <&hdmi_i2c_xfer>, <&hdmi_cec>;
+	#address-cells = <1>;
+	#size-cells = <0>;
+	#sound-dai-cells = <0>;
 	status = "okay";
+	ddc-i2c-bus = <&i2c3>;
+	rockchip,defaultmode = <16>; /* CEA 1920x1080@60Hz */
 };
 
 &hdmi_sound {
@@ -442,7 +453,7 @@ regulator-state-mem {
 		};
 	};
 
-    hym8563: hym8563@51 {
+        hym8563: hym8563@51 {
             compatible = "haoyu,hym8563";
             reg = <0x51>;
             #clock-cells = <0>;
@@ -450,11 +461,31 @@ hym8563: hym8563@51 {
 };
 
 &i2c3 {
-	i2c-scl-rising-time-ns = <450>;
-	i2c-scl-falling-time-ns = <15>;
 	status = "okay";
 };
 
+
+&i2s0 {
+	assigned-clocks = <&cru SCLK_I2SOUT_SRC>;
+	assigned-clock-parents = <&cru SCLK_I2S0_8CH>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2s_8ch_mclk>,<&i2s0_2ch_bus>;
+	rockchip,playback-channels = <8>;
+	rockchip,capture-channels = <8>;
+	#sound-dai-cells = <0>;
+	status = "okay";
+};
+
+
+&i2s1 {
+	status = "okay";
+	rockchip,i2s-broken-burst-len;
+	rockchip,playback-channels = <8>;
+	rockchip,capture-channels = <8>;
+	#sound-dai-cells = <0>;
+};
+
+
 &i2s2 {
 	status = "okay";
 };
@@ -504,13 +535,9 @@ sdmmc0_pwr_h: sdmmc0-pwr-h {
 	};
 
 	usb2 {
-		vcc5v0_host_en: vcc5v0-host-en {
-			rockchip,pins =
-				<4 29 RK_FUNC_GPIO &pcfg_pull_up>;
-		};
 		vcc5v0_typec0_en: vcc5v0-typec0-en {
 			rockchip,pins =
-				<1 20 RK_FUNC_GPIO &pcfg_pull_up>;
+				<1 RK_PC4 RK_FUNC_GPIO &pcfg_pull_up>;
 		};
 	};
 	
@@ -523,17 +550,21 @@ fusb0_int: fusb0-int {
 	
 	five_en {
 		pwr4g_pin: pwr4g-pin {
-			rockchip,pins = <1 24 RK_FUNC_GPIO &pcfg_pull_up>;
+			rockchip,pins = <1 RK_PD0 RK_FUNC_GPIO &pcfg_pull_up>;
 		};
 
 		rst4g_pin: rst4g-pin {
-			rockchip,pins = <4 28 RK_FUNC_GPIO &pcfg_pull_up>;
+			rockchip,pins = <4 RK_PD4 RK_FUNC_GPIO &pcfg_pull_up>;
 		};
 	};
 };
 
 &pwm0 {
-	status = "okay";
+	status = "disabled";
+};
+
+&pwm1 {
+	status = "disabled";
 };
 
 &pwm2 {
@@ -722,11 +753,12 @@ spi_wk2xxx: spi_wk2xxx@0{
 		spi-max-frequency = <10000000>;
 		//spi-cpha;      not support
 		//spi-cpol; 	//if the property is here it is 1:clk is high, else 0:clk is low  when idle
-        reset-gpio = <&gpio2 6 GPIO_ACTIVE_HIGH>;//gpio2_a6  todo
-        irq_gpio = <&gpio2 7 IRQ_TYPE_EDGE_FALLING>;//gpio2_a6
+        	reset-gpio = <&gpio2 6 GPIO_ACTIVE_HIGH>;//gpio2_a6  todo
+        	irq_gpio = <&gpio2 7 IRQ_TYPE_EDGE_FALLING>;//gpio2_a6
 	};
 };
 
+
 &usb_host0_ehci {
 	status = "okay";
 };
diff --git a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
index 29ed4a291..24b1430f1 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dts
@@ -12,6 +12,7 @@ / {
 
 
 	backlight: backlight {
+		status = "disabled";
 		compatible = "pwm-backlight";
 		brightness-levels = <
 			  0   1   2   3   4   5   6   7
@@ -47,9 +48,9 @@ backlight: backlight {
 			240 241 242 243 244 245 246 247
 			248 249 250 251 252 253 254 255>;
 		default-brightness-level = <200>;
-		enable-gpios = <&gpio4 RK_PC6 GPIO_ACTIVE_HIGH>;
+		enable-gpios = <&gpio4 RK_PC6 GPIO_ACTIVE_HIGH>; //EDP_LCBDL ?
 		pwms = <&pwm0 0 25000 0>;
-		status = "okay";
+
 	};
 
 	edp_panel: edp-panel {
@@ -67,19 +68,18 @@ panel_in_edp: endpoint {
 		};
 	};
 
-	es8388_sound{
+	es8388_sound {
+		status = "okay";
 		compatible = "simple-audio-card";
+		pinctrl-names = "default";
+		pinctrl-0 = <&hpdet_int>;
+
 		simple-audio-card,name = "rockchip,es8388-codec";
 		simple-audio-card,format = "i2s";
 		simple-audio-card,mclk-fs = <256>;
-		simple-audio-card,widgets =
-			"Microphone", "Mic Jack",
-			"Headphone", "Headphone Jack";
-		simple-audio-card,routing =
-			"Mic Jack", "MICBIAS1",
-			"IN1P", "Mic Jack",
-			"Headphone Jack", "HPOL",
-			"Headphone Jack", "HPOR";
+		
+		simple-audio-card,hp-det-gpio =  <&gpio4 RK_PD0 GPIO_ACTIVE_HIGH>;//insert=GPIO_ACTIVE_HIGH  
+
 		simple-audio-card,cpu {
 			sound-dai = <&i2s0>;
 			system-clock-frequency = <11289600>;
@@ -89,6 +89,42 @@ simple-audio-card,codec {
 			system-clock-frequency = <11289600>;
 		};
 	};
+	
+	
+	dw_hdmi_audio: dw-hdmi-audio {
+		status = "disable";
+		compatible = "rockchip,dw-hdmi-audio";
+		#sound-dai-cells = <0>;
+	};
+
+	hdmi_sound: hdmi-sound {
+		status = "okay";
+	};
+
+        hdmi_dp_sound: hdmi-dp-sound {
+                status = "okay";
+                compatible = "rockchip,rk3399-hdmi-dp";
+                rockchip,cpu = <&i2s2>;
+                rockchip,codec = <&hdmi>, <&cdn_dp>;
+        };
+
+	spdif-sound {
+		status = "disable";
+		compatible = "simple-audio-card";
+		simple-audio-card,name = "ROCKCHIP,SPDIF";
+		simple-audio-card,cpu {
+			sound-dai = <&spdif>;
+		};
+		simple-audio-card,codec {
+			sound-dai = <&spdif_out>;
+		};
+	};
+
+	spdif_out: spdif-out {
+		status = "disable";
+		compatible = "linux,spdif-dit";
+		#sound-dai-cells = <0>;
+	};
 
 	sdio_pwrseq: sdio-pwrseq {
 		compatible = "mmc-pwrseq-simple";
@@ -130,6 +166,27 @@ wireless-bluetooth {
 		BT,wake_host_irq = <&gpio0 4 GPIO_ACTIVE_HIGH>; /* GPIO0_A4 */
 		status = "disabled";
 	};
+	
+	leds {
+		status = "okay";
+		compatible = "gpio-leds";
+			power_led: power {
+				label = "powerled";
+				linux,default-trigger = "ir-power-click";
+				default-state = "on";
+				gpios = <&gpio1 0 GPIO_ACTIVE_HIGH>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&led_power>;
+			};
+			work_led: work {
+				label = "workled";
+				linux,default-trigger = "ir-power-click";
+				default-state = "off";
+				gpios = <&gpio1 13 GPIO_ACTIVE_HIGH>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&led_work>;
+			};
+    	};
 };
 
 &edp {
@@ -160,11 +217,10 @@ es8388: es8388@10 {
 		reg = <0x10>;
 		clocks = <&cru SCLK_I2S_8CH_OUT>;
 		clock-names = "mclk";
-		pinctrl-names = "default";
-		pinctrl-0 = <&i2s_8ch_mclk &hpdet_int>;
-    	        //pinctrl-0 = <&i2s_8ch_mclk>;
-		//spk-con-gpio = <&gpio1 1 GPIO_ACTIVE_LOW>;
-		//hp-det-gpio = <&gpio4 24 GPIO_ACTIVE_HIGH>;//insert=GPIO_ACTIVE_HIGH  
+		AVDD-supply = <&vcca3v0_codec>;
+		DVDD-supply = <&vcca3v0_codec>;
+		HPVDD-supply = <&vcca3v0_codec>;
+		PVDD-supply = <&vcca3v0_codec>;
 
 		status = "okay";
 	};
@@ -180,19 +236,15 @@ fusb0: fusb30x@22 {
 		compatible = "fairchild,fusb302";
 		reg = <0x22>;
 		pinctrl-names = "default";
-		pinctrl-0 = <&fusb0_int &vcc5v0_typec0_en>;
-		int-n-gpios = <&gpio1 2 GPIO_ACTIVE_HIGH>;//GPIO1_A2
-		vbus-5v-gpios = <&gpio1 20 GPIO_ACTIVE_HIGH>;//GPIO1_C4
+		pinctrl-0 = <&fusb0_int>;
+		int-n-gpios = <&gpio1 RK_PA2 GPIO_ACTIVE_HIGH>;//GPIO1_A2
+		vbus-5v-gpios = <&gpio1 RK_PC4 GPIO_ACTIVE_HIGH>;//GPIO1_C4
 		status = "okay";
 	};
+	
 };
 
-&i2s0 {
-	rockchip,playback-channels = <8>;
-	rockchip,capture-channels = <8>;
-	rockchip,i2s-broken-burst-len;
-	status = "okay";
-};
+
 
 &pcie_phy {
 	status = "okay";
@@ -221,11 +273,12 @@ lcd_panel_reset: lcd-panel-reset {
 	
 	es8388-gpios{
 		hpdet_int: hpdet-int {
-			rockchip,pins = <4 24 RK_FUNC_GPIO &pcfg_pull_none>;
+			rockchip,pins = <4 RK_PD0 RK_FUNC_GPIO &pcfg_pull_none>;
 		};
+		
 	};
 	
-	i2s1 {
+	i2s0 {
 		i2s_8ch_mclk: i2s-8ch-mclk {
 			rockchip,pins = <4 RK_PA0 RK_FUNC_1 &pcfg_pull_none>;
 		};
@@ -233,17 +286,17 @@ i2s_8ch_mclk: i2s-8ch-mclk {
 	
 	leds {
 		led_power: led-power {
-			rockchip,pins = <1 0 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_A0
+			rockchip,pins = <1 RK_PA0 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_A0
 		};
 		led_work: led-work {
-			rockchip,pins = <1 13 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_B5
+			rockchip,pins = <1 RK_PB5 RK_FUNC_GPIO &pcfg_pull_none>;//GPIO1_B5
 		};
 	};
 	
 	wireless-bluetooth {
 		uart0_gpios: uart0-gpios {
 			rockchip,pins =
-				<2 19 RK_FUNC_GPIO &pcfg_pull_none>;
+				<2 RK_PC3 RK_FUNC_GPIO &pcfg_pull_none>;
 		};
 	};	
 	
@@ -265,5 +318,9 @@ &sdio0 {
 };
 
 &spdif {
-	status = "okay";
+	status = "disable";
+	pinctrl-0 = <&spdif_bus>;
+	i2c-scl-rising-time-ns = <450>;
+	i2c-scl-falling-time-ns = <15>;
+	#sound-dai-cells = <0>;
 };
diff --git a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
index 639fc572d..4c7bcd8fb 100644
--- a/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3399-hm3399.dtsi
@@ -61,7 +61,7 @@ vcc1v8_s3: vcca1v8_s3: vcc1v8-s3 {
 	vcc3v0_sd: vcc3v0-sd {
 		compatible = "regulator-fixed";
 		enable-active-high;
-		gpio = <&gpio0 1 GPIO_ACTIVE_HIGH>;
+		gpio = <&gpio0 RK_PA1 GPIO_ACTIVE_HIGH>;
 		pinctrl-names = "default";
 		pinctrl-0 = <&sdmmc0_pwr_h>;
 		regulator-always-on;
@@ -83,8 +83,7 @@ vcc3v3_sys: vcc3v3-sys {
 
 	vcc5v0_host: vcc5v0-host-regulator {
 		compatible = "regulator-fixed";
-		enable-active-high;
-		gpio = <&gpio4 29 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
+		gpio = <&gpio4 RK_PD5 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
 		pinctrl-names = "default";
 		pinctrl-0 = <&vcc5v0_host_en>;
 		regulator-name = "vcc5v0_host";
@@ -95,12 +94,17 @@ vcc5v0_host: vcc5v0-host-regulator {
 	vcc5v0_typec0: vcc5v0-typec0-regulator {
 		compatible = "regulator-fixed";
 		enable-active-high;
-		gpio = <&gpio4 29 GPIO_ACTIVE_LOW>;//HUB_RST   GPIO4_D5
+		gpio = <&gpio1 RK_PC4 GPIO_ACTIVE_HIGH>;//HUB_RST   GPIO1_C4
 		pinctrl-names = "default";
 		pinctrl-0 = <&vcc5v0_typec0_en>;
 		regulator-name = "vcc5v0_typec0";
 		vin-supply = <&vcc_sys>;
+		
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
 	};
+	
 
 	vcc_sys: vcc-sys {
 		compatible = "regulator-fixed";
@@ -131,10 +135,10 @@ vdd_log: vdd-log {
 		compatible = "5v_en";
 		pinctrl-names = "default";
 		pinctrl-0 = <&pwr4g_pin &rst4g_pin>;
-		//hub_rst = <&gpio4 GPIO_D0 GPIO_ACTIVE_LOW>;
-		//pwr_led_en = <&gpio7 GPIO_B4 GPIO_ACTIVE_LOW>;
-		pwr_en_4g = <&gpio1 24 GPIO_ACTIVE_HIGH>;//gpio1_d0
-		rst_4g = <&gpio4 28 GPIO_ACTIVE_HIGH>;//gpio4_d4
+		hub_rst = <&gpio4 RK_PD5 GPIO_ACTIVE_LOW>;
+		pwr_led_en = <&gpio1 RK_PA0 GPIO_ACTIVE_LOW>;
+		pwr_en_4g = <&gpio1 RK_PD0 GPIO_ACTIVE_HIGH>;//gpio1_d0
+		rst_4g = <&gpio4 RK_PD4 GPIO_ACTIVE_HIGH>;//gpio4_d4
 		status = "okay";
 	};
 };
@@ -208,6 +212,7 @@ &hdmi_sound {
 	status = "okay";
 };
 
+
 &i2c0 {
 	clock-frequency = <400000>;
 	i2c-scl-rising-time-ns = <168>;
@@ -229,18 +234,18 @@ rk808: pmic@1b {
 		poweroff_signal-gpios = <&gpio0 11 GPIO_ACTIVE_LOW>;//PWR_EN  GPIO0_B3
 		poweroff,signal-active-low;
 
-		vcc1-supply = <&vcc_sys>;
-		vcc2-supply = <&vcc_sys>;
-		vcc3-supply = <&vcc_sys>;
-		vcc4-supply = <&vcc_sys>;
-		vcc6-supply = <&vcc_sys>;
-		vcc7-supply = <&vcc_sys>;
+		vcc1-supply = <&vcc3v3_sys>;
+		vcc2-supply = <&vcc3v3_sys>;
+		vcc3-supply = <&vcc3v3_sys>;
+		vcc4-supply = <&vcc3v3_sys>;
+		vcc6-supply = <&vcc3v3_sys>;
+		vcc7-supply = <&vcc3v3_sys>;
 		vcc8-supply = <&vcc3v3_sys>;
-		vcc9-supply = <&vcc_sys>;
-		vcc10-supply = <&vcc_sys>;
-		vcc11-supply = <&vcc_sys>;
+		vcc9-supply = <&vcc3v3_sys>;
+		vcc10-supply = <&vcc3v3_sys>;
+		vcc11-supply = <&vcc3v3_sys>;
 		vcc12-supply = <&vcc3v3_sys>;
-		vddio-supply = <&vcc1v8_pmu>;
+		vddio-supply = <&vcc_3v0>;
 
 		regulators {
 			vdd_center: DCDC_REG1 {
@@ -442,7 +447,7 @@ regulator-state-mem {
 		};
 	};
 
-    hym8563: hym8563@51 {
+        hym8563: hym8563@51 {
             compatible = "haoyu,hym8563";
             reg = <0x51>;
             #clock-cells = <0>;
@@ -450,11 +455,31 @@ hym8563: hym8563@51 {
 };
 
 &i2c3 {
-	i2c-scl-rising-time-ns = <450>;
-	i2c-scl-falling-time-ns = <15>;
 	status = "okay";
 };
 
+
+&i2s0 {
+	assigned-clocks = <&cru SCLK_I2SOUT_SRC>;
+	assigned-clock-parents = <&cru SCLK_I2S0_8CH>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2s_8ch_mclk>,<&i2s0_2ch_bus>;
+	rockchip,playback-channels = <8>;
+	rockchip,capture-channels = <8>;
+	#sound-dai-cells = <0>;
+	status = "okay";
+};
+
+
+&i2s1 {
+	status = "okay";
+	rockchip,i2s-broken-burst-len;
+	rockchip,playback-channels = <8>;
+	rockchip,capture-channels = <8>;
+	#sound-dai-cells = <0>;
+};
+
+
 &i2s2 {
 	status = "okay";
 };
@@ -523,17 +548,40 @@ fusb0_int: fusb0-int {
 	
 	five_en {
 		pwr4g_pin: pwr4g-pin {
-			rockchip,pins = <1 24 RK_FUNC_GPIO &pcfg_pull_up>;
+			rockchip,pins = <1 RK_PD0 RK_FUNC_GPIO &pcfg_pull_up>;
 		};
 
 		rst4g_pin: rst4g-pin {
-			rockchip,pins = <4 28 RK_FUNC_GPIO &pcfg_pull_up>;
+			rockchip,pins = <4 RK_PD4 RK_FUNC_GPIO &pcfg_pull_up>;
+		};
+	};
+	
+	spdif {
+		spdif_bus: spdif-bus {
+			rockchip,pins =
+				<4 RK_PD4 1 &pcfg_pull_none>;
+		};
+	
+		spdif_bus_1: spdif-bus-1 {
+			rockchip,pins =
+				<3 RK_PC0 3 &pcfg_pull_none>;
+		};
+	};
+	
+	uarthdcp {
+		uarthdcp_xfer: uarthdcp-xfer {
+			rockchip,pins =
+				<4 RK_PC6 2 &pcfg_pull_none>;
 		};
 	};
 };
 
 &pwm0 {
-	status = "okay";
+	status = "disabled";
+};
+
+&pwm1 {
+	status = "disabled";
 };
 
 &pwm2 {
@@ -541,7 +589,7 @@ &pwm2 {
 };
 
 &pwm3 {
-	status = "okay";
+	status = "disabled";
 	pinctrl-names = "default";
 	interrupts = <GIC_SPI 61 IRQ_TYPE_LEVEL_HIGH 0>;
 	compatible = "rockchip,remotectl-pwm";
@@ -722,11 +770,12 @@ spi_wk2xxx: spi_wk2xxx@0{
 		spi-max-frequency = <10000000>;
 		//spi-cpha;      not support
 		//spi-cpol; 	//if the property is here it is 1:clk is high, else 0:clk is low  when idle
-        reset-gpio = <&gpio2 6 GPIO_ACTIVE_HIGH>;//gpio2_a6  todo
-        irq_gpio = <&gpio2 7 IRQ_TYPE_EDGE_FALLING>;//gpio2_a6
+        	reset-gpio = <&gpio2 6 GPIO_ACTIVE_HIGH>;//gpio2_a6  todo
+        	irq_gpio = <&gpio2 7 IRQ_TYPE_EDGE_FALLING>;//gpio2_a6
 	};
 };
 
+
 &usb_host0_ehci {
 	status = "okay";
 };
